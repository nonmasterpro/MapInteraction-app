!function(e){function s(e){return(e<10?"0":"")+Math.ceil(e)+(Math.ceil(e)>Math.floor(e)?":30":":00")}function n(e){return(t.lineHeight+t.borderWidth)*(2*e)-1}function a(e){return(t.lineHeight+t.borderWidth)*(2*e)}function l(s){var n=t.cardTemplate
for(var a in s)s.hasOwnProperty(a)&&(n=n.replace("${"+a+"}",s[a]))
return e(n)}function r(r,d){d.forEach(function(d){var o=l(d),i=a(d.startTime),c=n(d.duration),C=e("<div></div>").attr({style:"top: "+i+"px; height: "+c+"px",title:s(d.startTime)+" - "+s(d.startTime+d.duration)})
C.on("click",function(e){t.onClick&&t.onClick(e,d)}),C.append(o).appendTo(r)},this)}var d={headers:[],tasks:[],cardTemplate:"<div>${id}</div>",onClick:function(e,s){},containerCssClass:"skeduler-container",headerContainerCssClass:"skeduler-headers",schedulerContainerCssClass:"skeduler-main",taskPlaceholderCssClass:"skeduler-task-placeholder",cellCssClass:"skeduler-cell",lineHeight:30,borderWidth:1,debug:!1},t={}
e.fn.skeduler=function(n){t=e.extend(d,n),t.debug&&console.time("skeduler")
var a=e(this)
a.empty(),a.addClass(t.containerCssClass)
var l=e("<div></div>"),o=l.clone().addClass(t.headerContainerCssClass)
t.headers.forEach(function(e){l.clone().text(e).appendTo(o)},this),a.append(o)
for(var i=l.clone().addClass(t.schedulerContainerCssClass),c=l.clone().addClass(t.schedulerContainerCssClass+"-timeline"),C=l.clone().addClass(t.schedulerContainerCssClass+"-body"),u=l.clone(),p=0;p<24;p++)l.clone().text(s(p)).appendTo(c),l.clone().appendTo(c),u.append(l.clone().addClass(t.cellCssClass)),u.append(l.clone().addClass(t.cellCssClass))
for(var h=0;h<t.headers.length;h++){var f=u.clone(),k=l.clone().addClass(t.taskPlaceholderCssClass)
r(k,t.tasks.filter(function(e){return e.column==h})),f.prepend(k),f.appendTo(C)}return i.append(c),i.append(C),a.append(i),t.debug&&console.timeEnd("skeduler"),a}}(jQuery);
